"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9770],{3362:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"did-module","title":"DID Module","description":"Overview","source":"@site/docs/did-module.md","sourceDirName":".","slug":"/did-module","permalink":"/docs/did-module","draft":false,"unlisted":false,"editUrl":"https://github.com/JupiterMetaZK/docs/edit/main/docs/did-module.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"CRDT Module","permalink":"/docs/crdt"},"next":{"title":"Logging Module","permalink":"/docs/logging"}}');var r=i(4848),l=i(8453);const t={},d="DID Module",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Purpose",id:"purpose",level:2},{value:"Key Components",id:"key-components",level:2},{value:"1. gRPC Server",id:"1-grpc-server",level:3},{value:"2. Protocol Buffers",id:"2-protocol-buffers",level:3},{value:"Key Functions",id:"key-functions",level:2},{value:"Register DID",id:"register-did",level:3},{value:"Get DID",id:"get-did",level:3},{value:"List DIDs",id:"list-dids",level:3},{value:"DID Data Structure",id:"did-data-structure",level:2},{value:"Usage",id:"usage",level:2},{value:"Starting DID Server",id:"starting-did-server",level:3},{value:"Registering a DID",id:"registering-a-did",level:3},{value:"Getting DID Information",id:"getting-did-information",level:3},{value:"Listing DIDs",id:"listing-dids",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Database (DB_OPs)",id:"database-db_ops",level:3},{value:"Messaging Module",id:"messaging-module",level:3},{value:"CLI Module",id:"cli-module",level:3},{value:"Explorer Module",id:"explorer-module",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Logging",id:"logging",level:2},{value:"Security",id:"security",level:2},{value:"Performance",id:"performance",level:2},{value:"Testing",id:"testing",level:2},{value:"Future Enhancements",id:"future-enhancements",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"did-module",children:"DID Module"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The DID (Decentralized Identity) module provides decentralized identity management for the JMZK network. It enables users to register, manage, and query decentralized identities with associated public keys, balances, and metadata."}),"\n",(0,r.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"The DID module handles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Decentralized identity registration"}),"\n",(0,r.jsx)(n.li,{children:"DID document storage and retrieval"}),"\n",(0,r.jsx)(n.li,{children:"Account management with balances"}),"\n",(0,r.jsx)(n.li,{children:"DID propagation across the network"}),"\n",(0,r.jsx)(n.li,{children:"gRPC service for DID operations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-components",children:"Key Components"}),"\n",(0,r.jsx)(n.h3,{id:"1-grpc-server",children:"1. gRPC Server"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"DID.go"})]}),"\n",(0,r.jsx)(n.p,{children:"Provides gRPC service for DID operations:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service Methods:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RegisterDID"}),": Register a new DID with public key"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GetDID"}),": Retrieve DID information by identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ListDIDs"}),": List all DIDs with pagination"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GetDIDStats"}),": Get statistics about the DID system"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-protocol-buffers",children:"2. Protocol Buffers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"proto/DID.proto"})]}),"\n",(0,r.jsx)(n.p,{children:"Defines gRPC service and message types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DIDService"}),": Main service interface"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DIDInfo"}),": DID information structure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RegisterDIDRequest/Response"}),": Registration messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GetDIDRequest/Response"}),": Query messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ListDIDsRequest/Response"}),": List messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DIDStats"}),": Statistics message"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-functions",children:"Key Functions"}),"\n",(0,r.jsx)(n.h3,{id:"register-did",children:"Register DID"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// Register a new DID\nfunc (s *AccountServer) RegisterDID(ctx context.Context, req *pb.RegisterDIDRequest) (*pb.RegisterDIDResponse, error) {\n    // Validates DID and public key\n    // Creates account in database\n    // Propagates DID to network\n    // Returns DID information\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-did",children:"Get DID"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// Retrieve DID information\nfunc (s *AccountServer) GetDID(ctx context.Context, req *pb.GetDIDRequest) (*pb.DIDResponse, error) {\n    // Queries database for DID\n    // Returns DID information\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"list-dids",children:"List DIDs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// List all DIDs with pagination\nfunc (s *AccountServer) ListDIDs(ctx context.Context, req *pb.ListDIDsRequest) (*pb.ListDIDsResponse, error) {\n    // Queries database with pagination\n    // Returns list of DIDs\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"did-data-structure",children:"DID Data Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"type Account struct {\n    DIDAddress  string\n    Address     common.Address\n    PublicKey   string\n    Balance     string\n    Nonce       uint64\n    CreatedAt   int64\n    UpdatedAt   int64\n    AccountType string\n    Metadata    map[string]interface{}\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"starting-did-server",children:"Starting DID Server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'import "gossipnode/DID"\n\n// Start DID gRPC server\nerr := DID.StartDIDServer(host, "localhost:15052", accountsClient)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registering-a-did",children:"Registering a DID"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Via gRPC client\ngrpcurl -plaintext localhost:15052 proto.DIDService/RegisterDID <<EOF\n{\n  "did": "did:jmzk:0x1234...",\n  "public_key": "0x5678..."\n}\nEOF\n'})}),"\n",(0,r.jsx)(n.h3,{id:"getting-did-information",children:"Getting DID Information"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Via gRPC client\ngrpcurl -plaintext localhost:15052 proto.DIDService/GetDID <<EOF\n{\n  "did": "did:jmzk:0x1234..."\n}\nEOF\n'})}),"\n",(0,r.jsx)(n.h3,{id:"listing-dids",children:"Listing DIDs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Via gRPC client\ngrpcurl -plaintext localhost:15052 proto.DIDService/ListDIDs <<EOF\n{\n  "limit": 10,\n  "offset": 0\n}\nEOF\n'})}),"\n",(0,r.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,r.jsx)(n.h3,{id:"database-db_ops",children:"Database (DB_OPs)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stores DID documents in accounts database"}),"\n",(0,r.jsx)(n.li,{children:"Retrieves DID information"}),"\n",(0,r.jsx)(n.li,{children:"Manages account balances"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"messaging-module",children:"Messaging Module"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Propagates DID updates to network peers"}),"\n",(0,r.jsx)(n.li,{children:"Handles DID message forwarding"}),"\n",(0,r.jsx)(n.li,{children:"Manages DID synchronization"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cli-module",children:"CLI Module"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Provides CLI commands for DID operations"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"propagateDID"}),": Propagate DID to network"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"getDID"}),": Get DID document"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"explorer-module",children:"Explorer Module"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Displays DID information in explorer"}),"\n",(0,r.jsx)(n.li,{children:"Lists all DIDs with pagination"}),"\n",(0,r.jsx)(n.li,{children:"Shows DID statistics"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"DID server port can be configured via command-line flag:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./jmdn -did localhost:15052  # Default port\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"The module includes comprehensive error handling:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Invalid DID format errors"}),"\n",(0,r.jsx)(n.li,{children:"Missing public key errors"}),"\n",(0,r.jsx)(n.li,{children:"Database connection errors"}),"\n",(0,r.jsx)(n.li,{children:"Network propagation errors"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,r.jsx)(n.p,{children:"DID operations are logged to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"logs/DID.log"}),": DID operations"]}),"\n",(0,r.jsx)(n.li,{children:"Loki (if enabled): Centralized logging"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"DID format validation"}),"\n",(0,r.jsx)(n.li,{children:"Public key verification"}),"\n",(0,r.jsx)(n.li,{children:"Input sanitization"}),"\n",(0,r.jsx)(n.li,{children:"Network propagation security"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Efficient database queries"}),"\n",(0,r.jsx)(n.li,{children:"Connection pooling"}),"\n",(0,r.jsx)(n.li,{children:"Pagination for large datasets"}),"\n",(0,r.jsx)(n.li,{children:"Concurrent DID operations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.p,{children:"Test files:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DID_test.go"}),": DID operation tests"]}),"\n",(0,r.jsx)(n.li,{children:"gRPC service tests"}),"\n",(0,r.jsx)(n.li,{children:"Integration tests"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enhanced DID format support"}),"\n",(0,r.jsx)(n.li,{children:"DID document versioning"}),"\n",(0,r.jsx)(n.li,{children:"Advanced metadata support"}),"\n",(0,r.jsx)(n.li,{children:"DID revocation"}),"\n",(0,r.jsx)(n.li,{children:"Performance optimizations"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);