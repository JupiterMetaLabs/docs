"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3065],{6315:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"db_ops","title":"DB_OPs Module","description":"Overview","source":"@site/docs/db_ops.md","sourceDirName":".","slug":"/db_ops","permalink":"/docs/db_ops","draft":false,"unlisted":false,"editUrl":"https://github.com/JupiterMetaZK/docs/edit/main/docs/db_ops.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"gETH Module","permalink":"/docs/gETH"},"next":{"title":"CRDT Module","permalink":"/docs/crdt"}}');var c=s(4848),l=s(8453);const o={},r="DB_OPs Module",t={},a=[{value:"Overview",id:"overview",level:2},{value:"Purpose",id:"purpose",level:2},{value:"Key Components",id:"key-components",level:2},{value:"1. Connection Pool Management",id:"1-connection-pool-management",level:3},{value:"2. ImmuDB Client",id:"2-immudb-client",level:3},{value:"3. Account Operations",id:"3-account-operations",level:3},{value:"4. Block Operations",id:"4-block-operations",level:3},{value:"5. Transaction Operations",id:"5-transaction-operations",level:3},{value:"6. Receipt Operations",id:"6-receipt-operations",level:3},{value:"7. HashMap Validation",id:"7-hashmap-validation",level:3},{value:"8. SQL Operations",id:"8-sql-operations",level:3},{value:"Key Data Structures",id:"key-data-structures",level:2},{value:"Account",id:"account",level:3},{value:"ZKBlock",id:"zkblock",level:3},{value:"Transaction",id:"transaction",level:3},{value:"Usage",id:"usage",level:2},{value:"Connection Pool Management",id:"connection-pool-management",level:3},{value:"Block Operations",id:"block-operations",level:3},{value:"Account Operations",id:"account-operations",level:3},{value:"Transaction Operations",id:"transaction-operations",level:3},{value:"Basic CRUD Operations",id:"basic-crud-operations",level:3},{value:"Transaction Support",id:"transaction-support",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Config Module",id:"config-module",level:3},{value:"Block Module",id:"block-module",level:3},{value:"DID Module",id:"did-module",level:3},{value:"Explorer Module",id:"explorer-module",level:3},{value:"FastSync Module",id:"fastsync-module",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Logging",id:"logging",level:2},{value:"Security",id:"security",level:2},{value:"Performance",id:"performance",level:2},{value:"Testing",id:"testing",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Future Enhancements",id:"future-enhancements",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"db_ops-module",children:"DB_OPs Module"})}),"\n",(0,c.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsx)(e.p,{children:"The DB_OPs module provides database operations for the JMZK decentralized network. It manages connections to ImmuDB (immutable database) for both main blockchain data and accounts/DID data, with connection pooling, transaction support, and comprehensive CRUD operations."}),"\n",(0,c.jsx)(e.h2,{id:"purpose",children:"Purpose"}),"\n",(0,c.jsx)(e.p,{children:"The DB_OPs module handles:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Database connection pool management"}),"\n",(0,c.jsx)(e.li,{children:"Block storage and retrieval"}),"\n",(0,c.jsx)(e.li,{children:"Transaction operations"}),"\n",(0,c.jsx)(e.li,{children:"Account/DID management"}),"\n",(0,c.jsx)(e.li,{children:"Receipt storage and querying"}),"\n",(0,c.jsx)(e.li,{children:"HashMap validation"}),"\n",(0,c.jsx)(e.li,{children:"Block logs and metadata"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"key-components",children:"Key Components"}),"\n",(0,c.jsx)(e.h3,{id:"1-connection-pool-management",children:"1. Connection Pool Management"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"Files:"})," ",(0,c.jsx)(e.code,{children:"MainDB_Connections.go"}),", ",(0,c.jsx)(e.code,{children:"Account_Connections.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Manages connection pools for:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Main Database"}),": Stores blocks, transactions, receipts"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Accounts Database"}),": Stores accounts, DIDs, balances"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Key Functions:"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetMainDBConnection()"}),": Get connection from main DB pool"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"PutMainDBConnection()"}),": Return connection to main DB pool"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAccountsConnection()"}),": Get connection from accounts DB pool"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"PutAccountsConnection()"}),": Return connection to accounts DB pool"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"2-immudb-client",children:"2. ImmuDB Client"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"immuclient.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Core ImmuDB client operations:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Create()"}),": Store key-value pairs"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Read()"}),": Retrieve values by key"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Update()"}),": Update existing values"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Delete()"}),": Delete keys"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetKeys()"}),": Retrieve keys with prefix matching"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Transaction()"}),": Execute multiple operations atomically"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"3-account-operations",children:"3. Account Operations"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"account_immuclient.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Account and DID-specific operations:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"CreateAccount()"}),": Create new account/DID"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAccount()"}),": Retrieve account by address"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"UpdateAccount()"}),": Update account balance/metadata"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAccounts()"}),": List all accounts with pagination"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAccountTransactions()"}),": Get transactions for an account"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAccountBalance()"}),": Get account balance"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"4-block-operations",children:"4. Block Operations"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"BlockLogs.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Block-related operations:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"StoreZKBlock()"}),": Store ZK-verified block"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetZKBlockByNumber()"}),": Get block by block number"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetZKBlockByHash()"}),": Get block by block hash"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetLatestBlock()"}),": Get latest block"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetBlockCount()"}),": Get total block count"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"5-transaction-operations",children:"5. Transaction Operations"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"immuclient.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Transaction-related operations:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"StoreTransaction()"}),": Store transaction"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetTransactionByHash()"}),": Get transaction by hash"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetTransactionsByAccount()"}),": Get transactions for account"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetTransactionsByBlock()"}),": Get transactions in block"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetTransactionsByAddressIndexed()"}),": Fast address scans via ",(0,c.jsx)(e.code,{children:"address:<addr>:<blockNumber>:<txHash>"})," keys"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"6-receipt-operations",children:"6. Receipt Operations"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"Facade_Receipts.go"})]}),"\n",(0,c.jsx)(e.p,{children:"Transaction receipt operations:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"StoreReceipt()"}),": Store transaction receipt"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetReceiptByHash()"}),": Get receipt by transaction hash"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetReceiptsByBlock()"}),": Get receipts for block"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"7-hashmap-validation",children:"7. HashMap Validation"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"HashMapValidator.go"})]}),"\n",(0,c.jsx)(e.p,{children:"HashMap validation for synchronization:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"ValidateHashMap()"}),": Validate HashMap structure"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"CompareHashMaps()"}),": Compare two HashMaps"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetHashMapDiff()"}),": Get difference between HashMaps"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"8-sql-operations",children:"8. SQL Operations"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"File:"})," ",(0,c.jsx)(e.code,{children:"sqlops/sqlops.go"})]}),"\n",(0,c.jsx)(e.p,{children:"SQL-like operations for SQLite:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"AddPeer()"}),": Add peer to database"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetPeer()"}),": Get peer information"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"UpdatePeer()"}),": Update peer information"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"GetAllPeers()"}),": List all peers"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"key-data-structures",children:"Key Data Structures"}),"\n",(0,c.jsx)(e.h3,{id:"account",children:"Account"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:"type Account struct {\n    DIDAddress string\n    Address    common.Address\n    PublicKey  string\n    Balance    string\n    Nonce      uint64\n    CreatedAt  int64\n    UpdatedAt  int64\n}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"zkblock",children:"ZKBlock"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:"type ZKBlock struct {\n    BlockNumber  uint64\n    BlockHash    common.Hash\n    Transactions []Transaction\n    Status       string\n    // ... ZK proof fields\n}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"transaction",children:"Transaction"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:"type Transaction struct {\n    Hash    common.Hash\n    From    common.Address\n    To      common.Address\n    Value   *big.Int\n    Nonce   uint64\n    // ... transaction fields\n}\n"})}),"\n",(0,c.jsx)(e.h2,{id:"usage",children:"Usage"}),"\n",(0,c.jsx)(e.h3,{id:"connection-pool-management",children:"Connection Pool Management"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:'import "gossipnode/DB_OPs"\n\n// Get main database connection\nmainClient, err := DB_OPs.GetMainDBConnection()\nif err != nil {\n    log.Fatal(err)\n}\ndefer DB_OPs.PutMainDBConnection(mainClient)\n\n// Get accounts database connection\naccountsClient, err := DB_OPs.GetAccountsConnection()\nif err != nil {\n    log.Fatal(err)\n}\ndefer DB_OPs.PutAccountsConnection(accountsClient)\n'})}),"\n",(0,c.jsx)(e.h3,{id:"block-operations",children:"Block Operations"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:"// Store block\nerr := DB_OPs.StoreZKBlock(mainClient, &block)\n\n// Get block by number\nblock, err := DB_OPs.GetZKBlockByNumber(mainClient, blockNumber)\n\n// Get block by hash\nblock, err := DB_OPs.GetZKBlockByHash(mainClient, blockHash)\n\n// Get latest block\nblock, err := DB_OPs.GetLatestBlock(mainClient)\n"})}),"\n",(0,c.jsx)(e.h3,{id:"account-operations",children:"Account Operations"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:'// Create account\naccount := &DB_OPs.Account{\n    DIDAddress: "did:jmzk:0x1234...",\n    Address:    common.HexToAddress("0x1234..."),\n    PublicKey:  "0x5678...",\n    Balance:    "1000000000000000000",\n}\nerr := DB_OPs.CreateAccount(accountsClient, account)\n\n// Get account\naccount, err := DB_OPs.GetAccount(accountsClient, address)\n\n// Update account balance\nerr := DB_OPs.UpdateAccount(accountsClient, address, newBalance)\n\n// Get account transactions\ntxns, err := DB_OPs.GetAccountTransactions(accountsClient, address)\n'})}),"\n",(0,c.jsx)(e.h3,{id:"transaction-operations",children:"Transaction Operations"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:"// Store transaction\nerr := DB_OPs.StoreTransaction(mainClient, &tx)\n\n// Get transaction by hash\ntx, err := DB_OPs.GetTransactionByHash(mainClient, txHash)\n\n// Get transactions by account (legacy scan)\ntxns, err := DB_OPs.GetTransactionsByAccount(mainClient, &address)\n\n// Get the latest 50 transactions involving an address using the index\nindexedTxs, err := DB_OPs.GetTransactionsByAddressIndexed(mainClient, address, 50)\n"})}),"\n",(0,c.jsx)(e.h3,{id:"basic-crud-operations",children:"Basic CRUD Operations"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:'// Create key-value pair\nerr := mainClient.Create("key", "value")\n\n// Read value\nvalue, err := mainClient.Read("key")\n\n// Update value\nerr := mainClient.Update("key", "new_value")\n\n// Delete key\nerr := mainClient.Delete("key")\n\n// Get keys with prefix\nkeys, err := mainClient.GetKeys("prefix")\n'})}),"\n",(0,c.jsx)(e.h3,{id:"transaction-support",children:"Transaction Support"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-go",children:'// Execute multiple operations atomically\nops := []*schema.Op{\n    {Key: []byte("key1"), Value: []byte("value1")},\n    {Key: []byte("key2"), Value: []byte("value2")},\n}\nerr := mainClient.Transaction(ops)\n'})}),"\n",(0,c.jsx)(e.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,c.jsx)(e.h3,{id:"config-module",children:"Config Module"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Uses connection pool configuration"}),"\n",(0,c.jsx)(e.li,{children:"Accesses database constants"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"block-module",children:"Block Module"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Stores and retrieves blocks"}),"\n",(0,c.jsx)(e.li,{children:"Manages block metadata"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"did-module",children:"DID Module"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Stores and retrieves DID documents"}),"\n",(0,c.jsx)(e.li,{children:"Manages account information"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"explorer-module",children:"Explorer Module"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Provides data for blockchain explorer"}),"\n",(0,c.jsx)(e.li,{children:"Queries blocks, transactions, accounts"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"fastsync-module",children:"FastSync Module"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Provides data for synchronization"}),"\n",(0,c.jsx)(e.li,{children:"Validates HashMap structures"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"configuration",children:"Configuration"}),"\n",(0,c.jsxs)(e.p,{children:["Database configuration in ",(0,c.jsx)(e.code,{children:"config/ImmudbConstants.go"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"DBAddress"}),': Database address (default: "localhost")']}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"DBPort"}),": Database port (default: 3322)"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"DBUsername"}),': Database username (default: "immudb")']}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"DBPassword"}),': Database password (default: "immudb")']}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"DBName"}),': Main database name (default: "defaultdb")']}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"AccountsDBName"}),': Accounts database name (default: "accountsdb")']}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,c.jsx)(e.p,{children:"The module includes comprehensive error handling:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Connection pool errors"}),"\n",(0,c.jsx)(e.li,{children:"Database connection errors"}),"\n",(0,c.jsx)(e.li,{children:"Transaction errors"}),"\n",(0,c.jsx)(e.li,{children:"Validation errors"}),"\n",(0,c.jsx)(e.li,{children:"Retry logic with exponential backoff"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"logging",children:"Logging"}),"\n",(0,c.jsx)(e.p,{children:"Database operations are logged to:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"logs/ImmuDB.log"}),": Database operations"]}),"\n",(0,c.jsx)(e.li,{children:"Loki (if enabled): Centralized logging"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"security",children:"Security"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Connection pooling prevents connection exhaustion"}),"\n",(0,c.jsx)(e.li,{children:"Token-based authentication for ImmuDB"}),"\n",(0,c.jsx)(e.li,{children:"Automatic token refresh"}),"\n",(0,c.jsx)(e.li,{children:"Input validation"}),"\n",(0,c.jsx)(e.li,{children:"SQL injection prevention (via ORM)"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"performance",children:"Performance"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Connection Pooling"}),": Efficient connection reuse"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Batch Operations"}),": Optimized batch writes"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Indexing"}),": Efficient key lookups"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Caching"}),": Connection and query caching"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"testing",children:"Testing"}),"\n",(0,c.jsx)(e.p,{children:"Test files:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"Tests/"}),": Database operation tests"]}),"\n",(0,c.jsx)(e.li,{children:"Integration tests with ImmuDB"}),"\n",(0,c.jsx)(e.li,{children:"Connection pool tests"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Always use connection pools"}),": Don't create direct connections"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Return connections"}),": Always return connections to pool"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Use transactions"}),": For multiple related operations"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Handle errors"}),": Check all error returns"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Validate input"}),": Validate data before storing"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Enhanced query capabilities"}),"\n",(0,c.jsx)(e.li,{children:"Advanced indexing"}),"\n",(0,c.jsx)(e.li,{children:"Data archival and pruning"}),"\n",(0,c.jsx)(e.li,{children:"Performance optimizations"}),"\n",(0,c.jsx)(e.li,{children:"Backup and recovery tools"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>o,x:()=>r});var i=s(6540);const c={},l=i.createContext(c);function o(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:o(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);